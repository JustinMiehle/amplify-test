<div class="row">
  <div class="col-lg-12">
    <span>
      <h2 class="d-inline-block pt-4">Current Jobs</h2>

      <span>
        <button mat-raised-button color="" routerLink="/agency/new-job">
          <span translate>Upload new Job</span>
        </button>
      </span>
    </span>
    <table mat-table matSort [dataSource]="jobsSource" class="mat-elevation-z8 dark-primary">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
        <td mat-cell *matCellDef="let job">{{ job.title }}</td>
      </ng-container>

      <!-- <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
        <td mat-cell *matCellDef="let job">{{ job.description }}</td>
      </ng-container> -->

      <ng-container matColumnDef="from">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>From</th>
        <td mat-cell *matCellDef="let job">{{ job.from.format('DD.MM.YY | HH:mm') }}</td>
      </ng-container>

      <ng-container matColumnDef="to">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>To</th>
        <td mat-cell *matCellDef="let job">{{ job.to.format('DD.MM.YY | HH:mm') }}</td>
      </ng-container>

      <ng-container matColumnDef="hourlyWage">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>hourlyWage</th>
        <td mat-cell *matCellDef="let job">{{ job.hourlyWage }} €</td>
      </ng-container>

      <ng-container matColumnDef="totalWage">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Total Wage</th>
        <td mat-cell *matCellDef="let job">{{ job.hourlyWage *
            calculateSumOfWorkingHours(job.workingHours) }} €</td>
      </ng-container>

      <ng-container matColumnDef="confirmed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Confirmed</th>
        <td mat-cell *matCellDef="let job">{{ job.confirmed.length }}</td>
      </ng-container>

      <ng-container matColumnDef="toBeConfirmed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>To Be Confirmed</th>
        <td mat-cell *matCellDef="let job">{{ job.toBeConfirmed.length }}</td>
      </ng-container>

      <ng-container matColumnDef="vacant">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vacant</th>
        <td mat-cell *matCellDef="let job">{{ job.needed - job.toBeConfirmed.length - job.confirmed.length }}</td>
      </ng-container>

      <ng-container matColumnDef="needed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Needed in Total</th>
        <td mat-cell *matCellDef="let job">{{ job.needed }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="jobsDisplayedColumns"></tr>
      <tr class="job-row" mat-row (click)="navigateToJob(job.id)" *matRowDef="let job; columns: jobsDisplayedColumns">
      </tr>
    </table>
  </div>
</div>

<div class="row pt-4">
  <div class="col-lg-12">
    <h2 translate>Past Jobs</h2>
    <table mat-table matSort [dataSource]="pastJobsSource" class="mat-elevation-z8 dark-primary">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
        <td mat-cell *matCellDef="let job">{{ job.title }}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
        <td mat-cell *matCellDef="let job">{{ job.description }}</td>
      </ng-container>

      <ng-container matColumnDef="confirmed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Confirmed</th>
        <td mat-cell *matCellDef="let job">{{ job.confirmed.length }}</td>
      </ng-container>

      <ng-container matColumnDef="toBeConfirmed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>To Be Confirmed</th>
        <td mat-cell *matCellDef="let job">{{ job.toBeConfirmed.length }}</td>
      </ng-container>

      <ng-container matColumnDef="vacant">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vacant</th>
        <td mat-cell *matCellDef="let job">{{ job.needed - job.toBeConfirmed.length - job.confirmed.length }}</td>
      </ng-container>

      <ng-container matColumnDef="needed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Needed in Total</th>
        <td mat-cell *matCellDef="let job">{{ job.needed }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="pastJobsDisplayedColumns"></tr>
      <tr class="job-row" mat-row (click)="navigateToJob(job.id)"
        *matRowDef="let job; columns: pastJobsDisplayedColumns"></tr>
    </table>
  </div>
</div>